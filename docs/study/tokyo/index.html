<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <link rel="icon" href="../../favicon.ico" />
  <title>東京23区マップクイズ</title>
  <style type="text/css">
    code {
      white-space: pre;
    }
  </style>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1637770322917058"
    crossorigin="anonymous"></script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GV53GJEY2E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-GV53GJEY2E');
  </script>
  <!-- Style for Markdown -->
  <style>
    /* ここから独自のやつ */
    /* https://color.adobe.com/ja/search?q=%E7%99%BD */
    @media (hover: hover) {
      path:hover {
        fill: #8ADAED
      }
    }

    path {
      fill: #FAFAFA;
      stroke: #AFB3B6;
    }

    path.success {
      fill: #8ADAED;
    }

    svg {
      width: 800px;
    }

    .svg_container {
      margin-top: 50px;
      overflow-x: scroll;
    }

    header {
      width: 100%;
      /* 幅いっぱいを指定 */
      height: 50px;
      /* 高さを50pxに指定 */
      background: #CCC;
      /* 背景色にグレーを指定 */
      padding: 20px 50px;
      /* ヘッダーに上下左右それぞれ余白を指定 */
      box-sizing: border-box;
      /* padding分を含んで幅を100%にするため */
      position: fixed;
      /* ウィンドウを基準に画面に固定 */
      top: 0;
      /* 上下の固定位置を上から0pxにする */
      left: 0;
      /* 左右の固定位置を左から0pxにする */
      display: flex;
      /* 中の要素を横並びにする */
      align-items: center;
      /* 中の要素を上下中央に並べる */
    }

    h3 {
      width: 100%;
      /* 幅いっぱいを指定 */
      background: #98fb98;
      /* 背景色にグレーを指定 */
      /* margin: 0 auto; */
      padding: 20px 50px;
      /* ヘッダーに上下左右それぞれ余白を指定 */
      box-sizing: border-box;
      /* padding分を含んで幅を100%にするため */
      position: fixed;
      /* ウィンドウを基準に画面に固定 */
      /* display: flex; */
      /* 中の要素を横並びにする */
      align-items: center;
      /* 中の要素を上下中央に並べる */
      display: none;
    }
    h3.success{
      background: #98fb98;
    }
    h3.failure{
      background: #ffa07a;
    }

  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
    <![endif]-->
</head>

<body>
  <header>
    <h2></h2>
  </header>
  <div class="svg_container">
    <h3 class="success">正解</h3>
    <h3 class="failure">正解</h3>
    <svg version="1.1" id="svg" viewBox="0 0 1000 985" sodipodi:docname="a.svg"></svg>
  </div>
  <script>
    // id属性で要素を取得
    let svg_element = document.getElementById('svg');
    const wards = [
      { d: "m 555.46761,307.86767 2.00892,-1.00446 22.6004,20.59148 11.55132,0.50223 16.57363,-1.5067 7.03123,-9.04016 16.0714,-7.53346 43.69411,3.51561 -7.53347,32.1428 -14.5647,17.57808 -8.53793,13.05801 -8.0357,18.58255 -15.56916,28.62718 -17.57809,-2.51116 -24.1071,-27.62271 z", value: "台東区" },
      { d: "m 528.34713,237.05309 2.51116,9.04016 42.68964,32.14279 0.50223,8.53793 -21.59594,16.57362 6.52901,2.51116 22.6004,20.08924 24.10709,-0.50223 8.53793,-10.54685 16.0714,-6.52901 44.69857,3.01339 2.00892,-12.55578 11.04908,-17.57809 -8.03569,-7.03123 -16.57363,7.03123 -26.61825,-2.00892 -15.56916,-15.06693 0.50223,-13.56024 5.52454,-8.0357 -21.59594,-8.0357 h -43.69411 l -15.06693,-2.51116 z", value: "荒川区" },
      { d: "m 504.72586,141.52786 6.82062,18.7567 38.36599,23.0196 4.26288,21.31443 17.90413,13.64124 25.57732,0.85258 45.18661,-9.37835 45.18661,15.34639 11.93608,-15.34639 13.64124,17.90412 6.82062,-15.34639 11.08351,8.52577 5.11546,-15.34639 46.89176,-24.72475 15.3464,14.49382 6.82062,-9.37835 -34.95568,-53.71238 -1.70516,-40.923721 5.96805,-0.852578 -12.78866,-9.378352 -17.05155,4.262888 -21.31444,16.198973 -17.05155,-11.936086 V 63.090733 l 10.23093,-23.019592 -4.26289,-0.852578 -75.87939,27.282479 -37.51341,-10.230929 -21.31444,-28.135057 -12.78866,-0.852577 -17.05155,23.872169 5.11547,36.660831 -17.90413,35.808251 z", value: "足立区" },
      { d: "m 606.18258,422.87842 11.93608,1.70516 13.64124,26.4299 -18.7567,44.33403 -11.93609,17.05155 -28.98763,24.72474 -11.93608,2.55774 -8.52578,-2.55774 7.6732,-21.31443 -7.6732,-11.93609 28.13506,-39.21856 -5.96804,-4.26289 v -8.52577 l 24.72474,-11.08351 z", value: "中央区" },
      { d: "m 773.28776,97.193831 0.85258,34.955679 38.36599,54.56496 -11.93609,9.37835 -17.05155,-12.78866 -45.1866,23.01959 -5.96805,18.7567 -11.0835,-9.37835 -7.6732,13.64124 -13.64124,-17.90413 -7.6732,12.78866 105.71961,144.93817 4.26289,-6.82062 24.72474,9.37836 2.55774,-38.36599 17.05154,-46.03918 32.39795,-27.28248 -2.55773,-13.64124 13.64124,-6.82062 -20.46186,-22.16702 -11.93609,-39.21856 7.6732,-9.37835 31.54536,-18.75671 -4.26288,-13.64124 h -16.19897 l -29.84022,7.6732 -9.37835,-21.31443 16.19897,-21.31444 -11.0835,-12.788663 -32.39795,10.230929 -12.78866,11.083504 z", value: "葛飾区" },
      { d: "m 630.05475,440.78255 7.6732,11.08351 -13.64124,29.84021 v 28.13506 l 20.46185,17.90412 14.49382,-7.6732 47.74434,-3.41031 4.26289,28.98764 H 726.396 l 23.87217,-0.85258 8.52578,6.82062 2.55773,18.75671 11.0835,-99.75157 1.70516,-11.08351 8.52577,-19.60928 -6.82062,-25.57732 -26.4299,-15.3464 h -37.51341 l -2.55773,40.07115 -53.71238,7.67319 z", value: "江東区" },
      { d: "m 192.59197,161.73153 -5.7149,26.86001 -13.14426,1.14298 -5.71489,-11.42979 -16.5732,5.1434 -29.14596,-1.71447 -3.42894,-5.1434 21.7166,-12.00128 -40.00427,-10.8583 -71.436185,56.00597 8.000853,124.58471 53.720014,33.1464 98.296198,-53.14853 139.44344,-3.42894 -9.14383,-46.29065 -54.29151,-80.00853 z", value: "練馬区" },
      { d: "m 694.85064,275.38252 -11.93609,26.4299 -5.96804,42.62888 -17.05155,18.7567 -14.49382,22.16701 -17.90412,34.1031 5.11546,21.31444 22.16701,4.26289 52.00723,-10.23093 2.55773,-36.66083 36.66083,0.85257 11.08351,-24.72474 -13.64124,-12.78866 -0.85258,-10.23093 h 13.64124 l 1.70516,-2.55774 -55.41754,-82.70001 z", value: "墨田区" },
      { d: "m 798.86509,369.16604 16.19897,23.87217 -2.55773,35.80826 -24.72475,44.33402 -3.41031,81.84744 0.85258,35.80825 33.25052,13.64124 54.56496,-24.72474 10.23093,-67.35362 -5.96805,-41.7763 61.38558,-16.19897 26.4299,-40.92372 -8.52577,-31.54536 -18.75671,-18.75671 -17.05155,-23.01959 -8.52577,-7.6732 -5.96804,-23.01959 9.37835,-28.98763 -3.41031,-17.05155 -23.01959,-21.31444 -10.23093,5.11547 2.55773,13.64123 -32.39794,26.42991 -17.90413,43.48145 -2.55773,42.62887 -24.72475,-8.52577 z", value: "江戸川区" },
      { d: "m 578.09755,392.87719 26.73283,30.07444 -9.54744,16.70802 -21.95912,10.97956 -2.38686,11.9343 3.81898,3.81898 -25.30072,38.18976 -42.48611,-8.11532 -35.32553,-25.30072 38.18976,-72.56055 66.35472,11.45693 z", value: "千代田区" },
      { d: "m 192.70845,161.24584 3.14626,-26.34993 39.72154,-37.755121 69.61101,-12.585041 57.41925,-2.359696 17.69771,7.472369 -9.43878,11.405189 -9.0455,23.59696 4.71939,11.40519 29.88948,4.32611 10.22534,55.05956 44.44093,51.52001 -9.43878,13.76489 -27.92306,4.71939 -20.05741,29.10291 -12.97832,-26.34993 -15.73131,0.39328 -36.57527,40.90138 -9.43878,-46.40734 -53.87971,-78.26322 z", value: "板橋区" },
      { d: "m 381.48407,90.061703 -7.47237,9.438782 -10.61863,24.776805 4.32611,10.61862 29.10291,5.11268 10.22535,54.27299 43.65436,49.94688 -8.65222,17.30443 1.17985,7.86566 7.47237,7.07908 12.58504,-12.58504 h 8.25893 l 11.01192,13.76489 10.22534,-3.93283 7.07909,5.50596 9.43878,3.14626 18.48428,14.15817 11.40519,-0.39328 10.61863,6.6858 22.02382,-15.33802 -0.39328,-9.43878 -40.90138,-31.4626 -3.53955,-11.01191 12.97833,-1.96642 5.11267,-1.96641 -25.56336,-7.86565 -6.29253,-5.50596 21.63054,-21.23725 -5.89923,-7.07909 -17.30444,0.78657 -27.52977,-12.97833 -1.96642,-11.01191 4.71939,-22.41711 -42.47451,-33.82229 -36.57528,-4.32611 z", value: "北区" },
      { d: "m 89.66833,368.07087 23.88545,28.19267 -5.87347,22.31919 -15.662592,4.69877 0.78313,7.8313 16.054152,16.05415 -6.26503,5.09035 4.69877,19.9698 39.15648,17.62041 4.69878,10.57225 1.95782,11.74694 11.74694,3.52409 6.26504,-5.48191 -6.6566,-16.83728 1.56626,-1.95783 54.81906,23.49389 21.92763,2.74095 51.29498,-18.79511 -6.26503,-14.09633 14.48789,-5.09034 -13.70476,-12.53007 -6.26504,0.78313 -3.13252,-14.09634 16.05416,-9.78911 -1.1747,-11.35538 -6.26503,-1.56626 -1.95783,-31.32518 -9.00599,-5.48191 -3.13251,-11.74694 -23.10232,-2.34939 -14.09634,-8.22286 -5.09034,-10.57225 -13.70476,-1.95782 -18.79511,-19.57824 -10.57225,-25.06014 z", value: "杉並区" },
      { d: "m 189.10632,314.98733 141.26014,-3.41758 -9.68315,30.75826 9.68315,3.98718 13.67034,24.49268 20.5055,-1.13919 9.68316,10.82235 -14.80953,21.6447 v 22.78389 l -10.25276,11.39195 -8.54396,3.41758 -35.88463,39.30222 -15.94873,-11.96155 -6.83516,0.5696 -2.84799,-13.67033 17.08792,-10.25276 -1.70879,-10.25275 -5.69598,-2.84799 -1.70879,-30.75825 -9.68315,-6.83517 -2.84799,-11.39195 -25.06228,-2.27839 -11.96155,-7.97436 -5.12637,-10.82235 -15.37913,-2.84799 -17.65752,-17.65751 z", value: "中野区" },
      { d: "m 105.37551,471.05701 -11.961545,-3.41759 v 21.0751 l -16.518323,-0.56959 2.278389,9.68315 9.683155,6.83517 17.087924,7.97436 -0.5696,9.11356 -9.683156,4.55678 7.404766,27.34067 6.26557,6.26557 -0.5696,15.37913 -15.948723,5.69597 -1.139194,32.46705 16.518327,29.04947 -1.1392,8.54396 -5.69597,6.83517 1.13919,10.82234 8.54396,6.26558 21.6447,-1.1392 92.27477,51.83336 48.98537,31.89745 -5.69597,-18.22711 14.80953,-6.83517 17.08792,1.13919 17.65752,11.96155 6.83517,10.82235 13.10074,-44.4286 h -44.4286 l -7.97436,-26.20147 10.82235,-6.26558 1.13919,-16.51832 -10.82234,-29.04946 17.08792,-2.84799 12.53114,10.82235 17.08792,9.11356 19.36631,-29.61906 -5.12638,-7.97437 1.70879,-50.12456 -22.78389,-37.02383 -9.68316,-28.47987 -22.21429,0.5696 -56.95974,20.5055 -70.63007,-27.91027 -2.27839,3.41759 8.54396,16.51832 -5.12637,3.98718 -12.53114,-1.70879 -5.12638,-1.70879 -5.69597,-21.6447 z", value: "世田谷区" },
      { d: "m 272.89641,757.12473 11.83932,4.73573 10.65539,1.18394 14.20719,13.61522 27.82241,76.36363 29.59831,16.57506 34.33403,13.61522 -13.61522,33.1501 10.06343,17.75899 57.42072,-21.31078 h 44.39746 l 28.41438,-8.8795 68.0761,29.00635 8.28753,-4.14377 31.37421,24.86258 42.0296,-23.08668 -23.67865,-30.78224 -36.7019,-71.62791 -40.84567,4.73573 -17.16702,23.67865 -13.61522,-10.65539 -15.39112,8.87949 -1.7759,22.49472 -4.14376,-8.8795 5.91966,-20.12685 -6.51163,-11.83932 13.02326,-7.69556 -24.27062,-63.93235 -29.5983,7.69556 -13.61523,-1.18393 -1.18393,-20.71881 -29.00634,2.36786 -72.81184,-58.60465 -17.16702,-3.5518 -10.65539,22.49472 -13.02326,42.62156 -24.86257,-21.31078 -19.53489,-0.59197 -10.65539,5.3277 z", value: "大田区" },
      { d: "m 288.28753,635.1797 10.65539,29.00634 -1.18394,14.20719 -11.24735,8.28753 8.87949,23.67865 h 13.61522 l 29.00634,1.18393 10.6554,-23.08668 18.94291,3.55179 11.83933,11.24736 49.72515,-109.51374 -21.31078,-0.59197 -33.1501,-23.67864 -23.67865,-38.4778 -24.27061,-7.1036 23.08668,39.66174 -2.36787,51.50105 6.51163,7.1036 -21.31078,30.19027 -29.59831,-19.53488 z", value: "目黒区" },
      { d: "m 288.28753,484.82029 5.91966,11.83933 h 23.08668 l 9.47146,27.23044 27.23044,7.1036 21.90275,38.4778 31.96617,22.49471 23.08668,0.59197 10.06343,-2.36787 4.73573,-26.04651 v -13.02325 l -33.74207,-20.71882 6.51162,-19.53488 4.73573,-6.51163 -10.65539,-6.51163 v -11.24736 l 11.83933,-14.20719 -8.8795,-17.75898 -8.87949,-1.18393 -4.73573,-10.06343 -42.0296,18.35095 -11.83932,-23.67864 -42.0296,42.0296 z", value: "渋谷区" },
      { d: "m 379.08484,270.58113 -13.56296,-0.67815 -34.58556,37.9763 0.67815,6.78148 12.20666,10.17222 6.78149,9.49408 21.02259,-4.74704 10.17222,6.10333 18.98815,-0.67814 v 11.52852 l 8.13778,4.74703 1.3563,11.52852 28.48222,-1.35629 -0.67815,-13.56297 10.17222,-4.06889 10.17223,-23.05704 8.13778,4.06889 7.45963,-9.49407 29.16037,-7.45963 26.44778,-10.17222 -22.37889,-15.59741 -7.45963,-3.39074 -7.45963,-3.39074 -11.52852,5.42518 -10.17222,-14.91926 h -6.10334 l -13.56296,13.56297 -10.17223,-8.13778 -0.67814,-8.13778 -25.76963,4.06889 -18.98815,28.48222 h -2.7126 z", value: "豊島区" },
      { d: "m 329.58002,318.0515 -8.13778,24.41334 8.81593,2.71259 13.56296,23.05704 h 24.41334 l 8.81592,12.20667 -16.27555,21.70074 1.35629,22.37889 -11.52851,14.91926 8.13777,18.31 44.07964,-16.27556 4.06889,10.85037 11.52851,2.7126 6.78149,14.91926 -10.85037,16.27555 v 11.52852 l 12.20666,5.42519 44.75778,-32.55111 36.62001,-73.24001 -71.20556,-35.26371 -29.16038,2.7126 -0.67814,-12.20667 -10.85038,-5.42519 2.7126,-10.17222 h -16.95371 l -10.85037,-5.42518 -22.37889,5.42518 z", value: "新宿区" },
      { d: "m 440.79632,360.77484 67.81482,34.58556 65.78038,13.56296 2.03444,-25.76963 -23.73518,-79.34334 -12.88482,-5.42519 -8.81593,-0.67814 -56.2863,17.63185 -6.78148,12.20667 -9.49407,-4.74704 -9.49408,23.05704 -8.81592,3.39074 z", value: "文京区" },
      { d: "m 415.02669,528.95559 33.22926,21.02259 -5.42518,40.01075 -6.78148,31.19481 29.16037,6.78149 5.42519,18.31 19.66629,9.49407 19.6663,2.03445 36.62,-51.53927 13.56297,-64.42407 -12.20667,-2.03445 8.81593,-24.41333 -6.78149,-9.49408 -42.72333,-8.81593 -36.62,-24.41333 -46.11408,33.90741 z", value: "港区" },
      { d: "m 440.11818,592.70152 h -8.81593 l -49.50482,110.53815 56.96445,47.47038 31.87297,-4.06889 0.67814,22.37889 38.65445,-6.10333 17.63185,-58.32075 -0.67814,-25.76963 -16.27556,-20.34445 -23.73519,-2.03444 -20.34444,-9.49408 -3.39075,-17.63185 -29.83852,-6.78148 z", value: "品川区" }
    ]
    let index;
    init()
    display()
    function init() {
      index = Math.floor(Math.random() * (wards.length)) + 0;
      wards.forEach(ward => {
        // 新しいHTML要素を作成
        let new_element = document.createElementNS("http://www.w3.org/2000/svg", "path");
        new_element.setAttribute("d", ward.d)
        new_element.setAttribute("data-value", ward.value)
        svg_element.appendChild(new_element);
      })
      document.querySelectorAll('path').forEach(e => {
        e.addEventListener('click', function () {
          onClickPath(e)
        })
      })
    }
    function display() {
      let filtered_wards = wards.filter(ward => !ward.active)
      if(wards.filter(ward => ward.active).length === wards.length){
        let h3_element = document.querySelector('h3.success');
        h3_element.innerText = '終了';
        showElement(h3_element)
        return
      }
      index = Math.floor(Math.random() * (filtered_wards.length)) + 0;
      document.querySelector('h2').innerText = filtered_wards[index].value + 'はどこでしょう？';
    }
    function onClickPath(e) {
      let filtered_wards = wards.filter(ward => !ward.active)
      if (filtered_wards[index].value === e.dataset.value) {
        filtered_wards[index].active = true;
        let h3_element = document.querySelector('h3.success');
        h3_element.innerText = '正解！';
        e.classList.add("success");
        showElement(h3_element)
        display();
      } else {
        let h3_element = document.querySelector('h3.failure');
        h3_element.innerText = '不正解...';
        showElement(h3_element)
      }
    }
    function showElement(element) {
      element.style.opacity = 0;
      element.style.display = "block";
      let opacity = 0;
      const fadeIn = setInterval(() => {
        opacity += 0.05;
        element.style.opacity = opacity;
        if (opacity >= 1) {
          clearInterval(fadeIn);
          hideElement(element)
        }
      }, 20);
    }

    function hideElement(element) {
      element.style.opacity = 1;
      let opacity = 1;
      const fadeOut = setInterval(() => {
        opacity -= 0.05;
        element.style.opacity = opacity;
        if (opacity <= 0) {
          clearInterval(fadeOut);
          element.style.display = "none";
        }
      }, 50);
    }
  </script>
</body>

</html>