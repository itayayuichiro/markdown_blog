---
title: 'Redis を使用してハッシュの配列を保存する'
---

## 概要
私は Redis を検討し始めたばかりで、ランダムなキー/値を取り出して、必要なときに元に戻すことができるハッシュの配列を保存できるようにしたいと考えています。

したがって、Rubyでは次のようなものになります

```
users = [{ username: "user1", password: "password"}, { username: "user2", password: 'password'}]

```
したがって、配列からランダムなキー/値オブジェクトを取得したい場合は、次のようなことをします

```
@user = users.shuffle!.pop

```
そしてそれを配列に戻すには

```
users.push(@user)

```
Redis を使用するアイデアは、ユーザーのプールを同時に共有する必要がある 2 つのプロセス (Ruby ベースのアプリ) があるということです。ユーザーのプロセスが終了したら、そのユーザーをプールに戻したいと考えています。

次に何を試せるでしょうか?

## 解決策
Redis Hash でユーザー情報を保存し、Redis Set でこれらのハッシュをすべて一緒に保存できます。

手順:

理解を深めるための同様の質問: Redis で連想配列を保存する方法

参考文献:

PS: 私は Ruby の経験がありません。これらすべての操作をサポートする適切な Redis Ruby API を探してください。

